From: Michael Davidsaver <mdavidsaver@bnl.gov>
Date: Fri, 1 Mar 2013 14:35:55 -0500
Subject: cross-build with mingw32

---
 configure/os/CONFIG_SITE.Common.win32-x86-mingw          | 15 +++++++++++++++
 configure/os/CONFIG_SITE.win32-x86-mingw.win32-x86-mingw |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

diff --git a/configure/os/CONFIG_SITE.Common.win32-x86-mingw b/configure/os/CONFIG_SITE.Common.win32-x86-mingw
index 79af9c9..19dce01 100644
--- a/configure/os/CONFIG_SITE.Common.win32-x86-mingw
+++ b/configure/os/CONFIG_SITE.Common.win32-x86-mingw
@@ -7,3 +7,18 @@
 # If readline is available uncomment the following line
 # to enable command-line editing and history support
 #COMMANDLINE_LIBRARY = READLINE
+
+CMPLR_PREFIX=i586-mingw32msvc-
+
+SHARED_LIBRARIES=NO
+STATIC_BUILD=YES
+
+# No -fPIC avoids "-fPIC ignored for target (all code is position independent)"
+SHRLIB_CFLAGS =
+SHRLIB_LDFLAGS = -shared -Wl,--out-implib,$(LIB_PREFIX)$*$(LIB_SUFFIX)
+LOADABLE_SHRLIB_LDFLAGS = -shared -Wl,--out-implib,$(LIB_PREFIX)$*$(LIB_SUFFIX)
+
+# Override linking with gcc library from CONFIG.gnuCommon
+GNU_LDLIBS_YES =
+
+OP_SYS_LDLIBS = -lws2_32
diff --git a/configure/os/CONFIG_SITE.win32-x86-mingw.win32-x86-mingw b/configure/os/CONFIG_SITE.win32-x86-mingw.win32-x86-mingw
index 462b561..a0f907d 100644
--- a/configure/os/CONFIG_SITE.win32-x86-mingw.win32-x86-mingw
+++ b/configure/os/CONFIG_SITE.win32-x86-mingw.win32-x86-mingw
@@ -8,4 +8,4 @@
 
 # Set the compiler prefix for your MinGW installation
 #CMPLR_PREFIX = i686-w64-mingw32-
-#CMPLR_PREFIX = i586-mingw32msvc-
+CMPLR_PREFIX = i586-mingw32msvc-
